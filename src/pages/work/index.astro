---
import Layout from "../../layouts/Layout.astro";
import CodingWrapped from "../../components/CodingWrapped.astro";

type TileType = "current" | "past" | "study" | "side" | "misc";
interface Tile {
  company: string;
  title: string;
  desc: string;
  link: string;
  imageSrc: string;
  type: TileType;
  internal?: boolean;
}

const tileHeaders: Record<TileType, string> = {
  current: "I'm currently contributing to",
  past: "I've previously worked on",
  study: "I stay learning through",
  side: "A few recent projects",
  misc: "There's more...",
};
const tiles: Tile[] = [
  {
    company: "Flipp",
    title: "Senior Software Engineer",
    desc: "Helping North Americans shop smarter",
    link: "https://flipp.com/home/",
    imageSrc: "/flipp.png",
    type: "current",
  },
  {
    company: "Careerfoundry",
    title: "Web development mentor",
    desc: "Mentoring the next generation of web developers",
    link: "https://careerfoundry.com/",
    imageSrc: "/cf.jpg",
    type: "current",
  },
  {
    company: "Moonfare",
    title: "Software development engineer",
    desc: "Developed an investment platform for private equity",
    link: "https://moonfare.com/",
    imageSrc: "/moonfare.jpeg",
    type: "past",
  },
  {
    company: "Diginex",
    title: "Full stack developer",
    desc: "Developed a cryptocurrency data aggregation and trading platform",
    link: "https://www.diginex.com/",
    imageSrc: "/diginex.png",
    type: "past",
  },
  {
    company: "Relotalent",
    title: "Contract developer",
    desc: "Developed an expat compensation and tax calculation engine",
    link: "https://www.relotalent.com/salary-calculator",
    imageSrc: "/relotalent.png",
    type: "past",
  },
  {
    company: "",
    title: "Books",
    desc: "My reading list of software engineering and adjacent books",
    link: "https://github.com/users/mtanzim/projects/9",
    imageSrc: "/books.png",
    type: "study",
  },
  {
    company: "",
    title: "Courses",
    desc: "My list of online courses past and present",
    link: "https://github.com/users/mtanzim/projects/4",
    imageSrc: "/courses.png",
    type: "study",
  },
  {
    company: "",
    title: "Side projects",
    desc: "Apply yourself, Jesse!",
    link: "https://github.com/users/mtanzim/projects/5",
    imageSrc: "/side.png",
    type: "study",
  },
  {
    company: "",
    title: "Spotify listening habits",
    desc: "See what you've been listening to",
    imageSrc: "/spotify-side.png",
    link: "https://spotify-personal-ybmvkz22xq-uc.a.run.app",
    type: "side",
  },
  {
    company: "",
    title: "Strong visualizer",
    desc: "Visualize progress from Strong app csvs",
    imageSrc: "/muscle.png",
    link: "https://vis-strong-go-ghfzoy3ovq-ue.a.run.app/",
    type: "side",
  },
  {
    company: "",
    title: "My story",
    desc: "Learn more about my story",
    imageSrc: "/tanzim.jpg",
    link: "/work/story",
    type: "misc",
    internal: true,
  },
  {
    company: "",
    title: "My resume",
    desc: "Get my detailed work history",
    imageSrc: "/about/berlin/3.jpg",
    link: "/work/resume",
    type: "misc",
    internal: true,
  },
  {
    company: "",
    title: "Podcast",
    desc: "Listen to my podcast discussing self studying software engineering, staying productive during long term travel, and the tech startup scene in Berlin",
    imageSrc: "/podcast.png",
    link: "https://open.spotify.com/episode/5u3gXFNGomUkKimQHE9sgG?si=Op9ZjqG-RcuyWr9Uek2TvA",
    type: "misc",
  },
];
---

<Layout title="Work">
  <div class="flex mb-4 flex-wrap">
    {
      Object.keys(tileHeaders).map((tileType) => (
        <div class="flex flex-col p-2">
          <h1 class="text-2xl my-12">{tileHeaders[tileType as TileType]}</h1>
          <div class="flex mb-4 flex-wrap">
            {tiles
              .filter((t) => t.type === tileType)
              .map((tile) => (
                <div class="card flex-initial w-64 bg-base-400 shadow-xl m-4">
                  <figure>
                    <img
                      class="object-cover h-36 w-36"
                      src={tile.imageSrc}
                      alt={tile.company}
                    />
                  </figure>
                  <div class="card-body">
                    <h2 class="card-title">{tile.title}</h2>
                    <p>{tile.desc}</p>
                    <div class="card-actions justify-end">
                      <a
                        target={tile.internal ? "" : "_blank"}
                        href={tile.link}
                      >
                        <div class="badge badge-secondary badge-lg">Visit</div>
                      </a>
                    </div>
                  </div>
                </div>
              ))}
          </div>
        </div>
      ))
    }
  </div>
  <CodingWrapped />
</Layout>
